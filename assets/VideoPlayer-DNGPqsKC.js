import{g as b,v,a as p}from"./videojs-Da1hK1Qd.js";import{_,G as S,B as k,H as I,a as T,o as w,b as R}from"./index-DmRKBB4X.js";const E="播放",V="暫停",C="總共時間",N="直播",B="載入完畢",x="進度",A="全螢幕",Y="靜音",D="開啟音效",F="字幕",O="內嵌字幕",L="章節",M="描述",j="關閉",U="重播",Q="文字",W="白",G="黑",z="紅",H="綠",q="藍",$="黃",J="紫紅",K="青",X="背景",Z="視窗",ee="透明",te="不透明",ie="無",se="浮雕",oe="壓低",re="均勻",ae="輕便的",ne="手寫體",le="重置",de="完成",he="顏色",ue="不透明度",ce={Play:E,Pause:V,"Current Time":"目前時間",Duration:C,"Remaining Time":"剩餘時間","Stream Type":"串流類型",LIVE:N,Loaded:B,Progress:x,Fullscreen:A,"Exit Fullscreen":"退出全螢幕",Mute:Y,Unmute:D,"Playback Rate":" 播放速率",Subtitles:F,"subtitles off":"關閉字幕",Captions:O,"captions off":"關閉內嵌字幕",Chapters:L,"Close Modal Dialog":"關閉對話框",Descriptions:M,"descriptions off":"關閉描述","Audio Track":"音軌","You aborted the media playback":"影片播放已終止","A network error caused the media download to fail part-way.":"網路錯誤導致影片下載失敗。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"因格式不支援、伺服器或網路的問題無法載入媒體。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由於影片檔案損毀或是該影片使用了您的瀏覽器不支援的功能，已終止播放媒體。","No compatible source was found for this media.":"無法找到相容此媒體的來源。","The media is encrypted and we do not have the keys to decrypt it.":"媒體已加密，無法解密。","Play Video":"播放影片",Close:j,"Modal Window":"強制回應視窗","This is a modal window":"此為強制回應視窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按鍵或關閉按鈕來關閉此視窗。",", opens captions settings dialog":", 開啟標題設定對話框",", opens subtitles settings dialog":", 開啟字幕設定對話框",", opens descriptions settings dialog":", 開啟描述設定對話框",", selected":", 選擇","captions settings":"字幕設定","Audio Player":"音訊播放器","Video Player":"視訊播放器",Replay:U,"Progress Bar":"進度列","Volume Level":"音量","subtitles settings":"字幕設定","descriptions settings":"描述設定",Text:Q,White:W,Black:G,Red:z,Green:H,Blue:q,Yellow:$,Magenta:J,Cyan:K,Background:X,Window:Z,Transparent:ee,"Semi-Transparent":"半透明",Opaque:te,"Font Size":"字型尺寸","Text Edge Style":"字型邊緣樣式",None:ie,Raised:se,Depressed:oe,Uniform:re,"Drop shadow":"下陰影","Font Family":"字型系列","Proportional Sans-Serif":"調和間距無襯線字型","Monospace Sans-Serif":"等寬無襯線字型","Proportional Serif":"調和間距襯線字型","Monospace Serif":"等寬襯線字型",Casual:ae,Script:ne,"Small Caps":"小型大寫字體",Reset:le,"restore all settings to the default values":"恢復全部設定至預設值",Done:de,"Caption Settings Dialog":"字幕設定對話框","Beginning of dialog window. Escape will cancel and close the window.":"開始對話視窗。離開會取消並關閉視窗","End of dialog window.":"結束對話視窗","Seek to live, currently behind live":"快轉至直播，目前為稍早畫面","Seek to live, currently playing live":"快轉至直播，目前為現場畫面","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":"{1} 正在載入。","Exit Picture-in-Picture":"離開子母畫面","Playing in Picture-in-Picture":"在子母畫面中播放","Picture-in-Picture":"子母畫面","No content":"沒有內容",Color:he,Opacity:ue,"Text Background":"文字背景","Caption Area Background":"字幕區域背景","Skip forward {1} seconds":"快轉 {1} 秒","Skip backward {1} seconds":"倒轉 {1} 秒"};var h={exports:{}};const ye=b(v);var pe=h.exports,f;function fe(){return f||(f=1,function(d,u){(function(r,a){{var l=ye;d.exports=a(l.default||l)}})(pe,function(r){var a=r.browser.IS_IOS||r.browser.IS_NATIVE_ANDROID,l=r.getTech("Tech");class s extends l{constructor(e,t){super(e,t),this.setPoster(e.poster),this.setSrc(this.options_.source,!0),this.setTimeout((function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",a&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),s.isApiReady?this.initYTPlayer():s.apiReadyQueue.push(this))}).bind(this))}dispose(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var e=s.apiReadyQueue.indexOf(this);e!==-1&&s.apiReadyQueue.splice(e,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),l.prototype.dispose.call(this)}createEl(){var e=document.createElement("div");e.setAttribute("id",this.options_.techId),e.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),e.setAttribute("class","vjs-tech");var t=document.createElement("div");if(t.appendChild(e),!a&&!this.options_.ytControls){var i=document.createElement("div");i.setAttribute("class","vjs-iframe-blocker"),i.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),i.onclick=(function(){this.pause()}).bind(this),t.appendChild(i)}return t}initYTPlayer(){var e={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide<"u"&&(e.autohide=this.options_.autohide),typeof this.options_.cc_load_policy<"u"&&(e.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls<"u"&&(e.controls=this.options_.ytControls),typeof this.options_.disablekb<"u"&&(e.disablekb=this.options_.disablekb),typeof this.options_.color<"u"&&(e.color=this.options_.color),e.controls?typeof this.options_.fs<"u"&&(e.fs=this.options_.fs):e.fs=0,this.options_.source.src.indexOf("end=")!==-1){var t=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(t[1])}if(typeof this.options_.end<"u"&&(e.end=this.options_.end),typeof this.options_.hl<"u"?e.hl=this.options_.hl:typeof this.options_.language<"u"&&(e.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy<"u"&&(e.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list<"u"?e.list=this.options_.list:this.url&&typeof this.url.listId<"u"&&(e.list=this.url.listId),typeof this.options_.listType<"u"&&(e.listType=this.options_.listType),typeof this.options_.modestbranding<"u"&&(e.modestbranding=this.options_.modestbranding),typeof this.options_.playlist<"u"&&(e.playlist=this.options_.playlist),typeof this.options_.playsinline<"u"&&(e.playsinline=this.options_.playsinline),typeof this.options_.rel<"u"&&(e.rel=this.options_.rel),typeof this.options_.showinfo<"u"&&(e.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var i=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(i[1])}if(typeof this.options_.start<"u"&&(e.start=this.options_.start),typeof this.options_.theme<"u"&&(e.theme=this.options_.theme),typeof this.options_.customVars<"u"){var n=this.options_.customVars;Object.keys(n).forEach(function(y){e[y]=n[y]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=e.list;var c={videoId:this.activeVideoId,playerVars:e,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode<"u"&&this.options_.enablePrivacyEnhancedMode&&(c.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,c)}onPlayerReady(){this.options_.muted&&this.ytPlayer.mute();var e=this.ytPlayer.getAvailablePlaybackRates();e.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}onPlayerPlaybackQualityChange(){}onPlayerPlaybackRateChange(){this.trigger("ratechange")}onPlayerStateChange(e){var t=e.data;if(!(t===this.lastState||this.errorNumber))switch(this.lastState=t,t){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}}onPlayerVolumeChange(){this.trigger("volumechange")}onPlayerError(e){this.errorNumber=e.data,this.trigger("pause"),this.trigger("error")}error(){var e=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:e,message:"Error while trying to play the video"};case 2:case 100:return{code:e,message:"Unable to find the video"};case 101:case 150:return{code:e,message:"Playback on other Websites has been disabled by the video owner."}}return{code:e,message:"YouTube unknown error ("+this.errorNumber+")"}}loadVideoById_(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(t)}cueVideoById_(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(t)}src(e){return e&&this.setSrc({src:e}),this.source}poster(){return a?null:this.poster_}setPoster(e){this.poster_=e}setSrc(e){!e||!e.src||(delete this.errorNumber,this.source=e,this.url=s.parseUrl(e.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!a?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}autoplay(){return this.options_.autoplay}setAutoplay(e){this.options_.autoplay=e}loop(){return this.options_.loop}setLoop(e){this.options_.loop=e}play(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.ytPlayer&&this.ytPlayer.pauseVideo()}paused(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0}currentTime(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}setCurrentTime(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(e,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==e&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval((function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}).bind(this),250))}seeking(){return this.isSeeking}seekable(){return this.ytPlayer?r.createTimeRange(0,this.ytPlayer.getDuration()):r.createTimeRange()}onSeeked(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}playbackRate(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}setPlaybackRate(e){this.ytPlayer&&this.ytPlayer.setPlaybackRate(e)}duration(){return this.ytPlayer?this.ytPlayer.getDuration():0}currentSrc(){return this.source&&this.source.src}ended(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1}volume(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}setVolume(e){this.ytPlayer&&this.ytPlayer.setVolume(e*100)}muted(){return this.ytPlayer?this.ytPlayer.isMuted():!1}setMuted(e){if(this.ytPlayer)this.muted(!0);else return;e?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)}buffered(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return r.createTimeRange();var e=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return r.createTimeRange(0,e)}preload(){}load(){}reset(){}networkState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}}readyState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}}supportsFullScreen(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}checkHighResPoster(){var e="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var t=new Image;t.onload=(function(){if("naturalHeight"in t){if(t.naturalHeight<=90||t.naturalWidth<=120)return}else if(t.height<=90||t.width<=120)return;this.poster_=e,this.trigger("posterchange")}).bind(this),t.onerror=function(){},t.src=e}catch{}}}s.isSupported=function(){return!0},s.canPlaySource=function(o){return s.canPlayType(o.type)},s.canPlayType=function(o){return o==="video/youtube"},s.parseUrl=function(o){var e={videoId:null},t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=o.match(t);i&&i[2].length===11&&(e.videoId=i[2]);var n=/[?&]list=([^#\&\?]+)/;return i=o.match(n),i&&i[1]&&(e.listId=i[1]),e};function g(){YT.ready(function(){s.isApiReady=!0;for(var o=0;o<s.apiReadyQueue.length;++o)s.apiReadyQueue[o].initYTPlayer()})}function P(o,e){var t=!1,i=document.createElement("script"),n=document.getElementsByTagName("script")[0];n&&(n.parentNode.insertBefore(i,n),i.onload=function(){t||(t=!0,e())},i.onreadystatechange=function(){!t&&(this.readyState==="complete"||this.readyState==="loaded")&&(t=!0,e())},i.src=o)}function m(){var o=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o)),e.appendChild(t)}s.apiReadyQueue=[],typeof document<"u"&&(P("https://www.youtube.com/iframe_api",g),m()),typeof r.registerTech<"u"?r.registerTech("Youtube",s):r.registerComponent("Youtube",s)})}(h)),h.exports}fe();const ge=["id"],Pe={__name:"VideoPlayer",props:{options:{type:Object,default:()=>({})}},setup(d){p.addLanguage("zh-TW",ce);const u=d;let r=S("videoPlayer"),a=null;return k(()=>{a=p(r.value,u.options,function(){console.log("onPlayerReady")})}),I(()=>{a&&(a.dispose(),a=null)}),(l,s)=>(w(),T("div",null,[R("video",{id:d.options.id,ref:"videoPlayer",class:"video-js"},null,8,ge)]))}},ve=_(Pe,[["__scopeId","data-v-eb72b90c"]]);export{ve as V};
