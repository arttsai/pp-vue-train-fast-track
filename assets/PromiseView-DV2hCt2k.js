import{r as i,B as r,a as u,b as t,t as d,o as m}from"./index-Dum66BMQ.js";const v={class:"container is-max-desktop"},_={__name:"PromiseView",setup(f){const s=i(""),o=["漢堡 🍔","披薩 🍕","壽司 🍣","沙拉 🥗","炸雞 🍗"];r(()=>{a()});const a=()=>{s.value="",new Promise((e,c)=>{setTimeout(()=>{if(Math.random()>.3){const n=o[Math.floor(Math.random()*o.length)];e({food:n,message:`你的 ${n} 已送達！`})}else c("送餐失敗，請稍後再試。")},2e3)}).then(e=>(s.value+="成功: "+e.message,e.food)).then(e=>{if(e.includes("壽司")||e.includes("沙拉"))throw new Error("我們不喜歡吃這個食物！");s.value+=`
我們喜歡吃 ${e}！`}).catch(e=>{s.value&&(s.value+=`
`),e instanceof Error?s.value+="失敗: "+e.message:s.value+="錯誤: "+e})};return(l,e)=>(m(),u("div",v,[e[0]||(e[0]=t("h1",{class:"title is-4 has-text-centered"},"Promise 示範",-1)),t("pre",null,d(s.value),1),t("div",{class:"buttons p-4 is-centered"},[t("button",{class:"button is-primary",onClick:a},"再來一次")])]))}};export{_ as default};
