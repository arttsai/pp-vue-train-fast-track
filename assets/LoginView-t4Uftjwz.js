import{k,r as f,a as t,b as e,l as q,m as u,p as i,v,t as r,q as j,d as p,s as V,x as b,h as x,y as h,o as n}from"./index-pic9N9pD.js";const U={class:"container columns"},_={class:"field"},E={class:"control has-icons-left has-icons-right"},M={key:0,class:"help is-danger"},S={class:"field"},D={class:"control"},N={key:0,class:"help is-danger"},B={class:"field"},C={class:"control has-icons-left has-icons-right"},R={key:0,class:"help is-danger"},T={class:"field"},L={class:"control"},F={class:"select"},O={key:0,class:"help is-danger"},Y={class:"field"},$={class:"control"},z={class:"checkbox"},A={key:0,class:"help is-danger"},G={class:"field"},H={class:"control"},I={class:"radio mr-3"},J={class:"radio"},K={key:0,class:"help is-danger"},P={class:"field is-grouped"},Q={class:"control"},Z={__name:"LoginView",setup(W){const g=k(),m=x(),c=h(),l=f({username:"",password:"",email:"",subject:"",agree:!1,question:""}),a=f({username:"",password:"",email:"",subject:"",agree:"",question:""}),y=()=>(a.value.username=l.value.username?"":"使用者帳號為必填",a.value.password=l.value.password?"":"密碼為必填",l.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.email)?a.value.email="":a.value.email="Email 格式不正確":a.value.email="請輸入 Email",a.value.subject=l.value.subject?"":"主題選項為必填",a.value.agree=l.value.agree?"":"您必須同意條款",a.value.question=l.value.question?"":"請回答問題",Object.values(a.value).every(d=>!d)),w=()=>{if(!y()){window.alert("表單驗證失敗，請檢查輸入的資料");return}g.login(1),console.log("Form Data:",l.value),m.query.redirect?c.push(m.query.redirect):c.push("/")};return(d,s)=>(n(),t("div",null,[s[23]||(s[23]=e("h1",{class:"subtitle is-3 has-text-centered"},"Login",-1)),e("div",U,[s[21]||(s[21]=e("div",{class:"column"},null,-1)),e("form",{class:"column is-half",onSubmit:q(w,["prevent"])},[e("div",_,[s[10]||(s[10]=e("label",{for:"username",class:"label"},"使用者帳號",-1)),e("div",E,[i(e("input",{class:"input is-success",type:"text",placeholder:"Text input",id:"username",name:"username","onUpdate:modelValue":s[0]||(s[0]=o=>l.value.username=o)},null,512),[[v,l.value.username]]),s[8]||(s[8]=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-user"})],-1)),s[9]||(s[9]=e("span",{class:"icon is-small is-right"},[e("i",{class:"fas fa-check"})],-1))]),a.value.username?(n(),t("p",M,r(a.value.username),1)):u("",!0)]),e("div",S,[s[11]||(s[11]=e("label",{for:"password",class:"label"},"密碼",-1)),e("div",D,[i(e("input",{type:"password",class:"input",placeholder:"密碼",id:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=o=>l.value.password=o)},null,512),[[v,l.value.password]])]),a.value.password?(n(),t("p",N,r(a.value.password),1)):u("",!0)]),e("div",B,[s[14]||(s[14]=e("label",{for:"email",class:"label"},"Email",-1)),e("div",C,[i(e("input",{class:"input is-danger",type:"email",placeholder:"Email input",id:"email",name:"email","onUpdate:modelValue":s[2]||(s[2]=o=>l.value.email=o)},null,512),[[v,l.value.email]]),s[12]||(s[12]=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-envelope"})],-1)),s[13]||(s[13]=e("span",{class:"icon is-small is-right"},[e("i",{class:"fas fa-exclamation-triangle"})],-1))]),a.value.email?(n(),t("p",R,r(a.value.email),1)):u("",!0)]),e("div",T,[s[16]||(s[16]=e("label",{for:"subject",class:"label"},"主題選項",-1)),e("div",L,[e("div",F,[i(e("select",{id:"subject",name:"subject","onUpdate:modelValue":s[3]||(s[3]=o=>l.value.subject=o)},s[15]||(s[15]=[e("option",{disabled:"",value:""},"請選擇",-1),e("option",{value:"1"},"選項一",-1),e("option",{value:"2"},"選項二",-1)]),512),[[j,l.value.subject]])])]),a.value.subject?(n(),t("p",O,r(a.value.subject),1)):u("",!0)]),e("div",Y,[e("div",$,[e("label",z,[i(e("input",{type:"checkbox",id:"agree",name:"agree","onUpdate:modelValue":s[4]||(s[4]=o=>l.value.agree=o)},null,512),[[V,l.value.agree]]),s[17]||(s[17]=p(" 我同意條款 "))])]),a.value.agree?(n(),t("p",A,r(a.value.agree),1)):u("",!0)]),e("div",G,[e("div",H,[e("label",I,[i(e("input",{type:"radio",name:"question","onUpdate:modelValue":s[5]||(s[5]=o=>l.value.question=o),value:"yes"},null,512),[[b,l.value.question]]),s[18]||(s[18]=p(" Yes "))]),e("label",J,[i(e("input",{type:"radio",name:"question","onUpdate:modelValue":s[6]||(s[6]=o=>l.value.question=o),value:"no"},null,512),[[b,l.value.question]]),s[19]||(s[19]=p(" No "))])]),a.value.question?(n(),t("p",K,r(a.value.question),1)):u("",!0)]),e("div",P,[s[20]||(s[20]=e("div",{class:"control"},[e("button",{class:"button is-link",type:"submit"},"登入")],-1)),e("div",Q,[e("button",{class:"button is-link is-light",onClick:s[7]||(s[7]=(...o)=>d.cancel&&d.cancel(...o))},"取消")])])],32),s[22]||(s[22]=e("div",{class:"column"},null,-1))])]))}};export{Z as default};
